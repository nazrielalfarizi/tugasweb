<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Program Gaji Pegawai</title>
    <link rel="stylesheet" href="assets/css/w3.css">

    <form action="" name="form1">
        <script>
           function proses()
           {

            var bagian = document.form1.bagian.value;
            var golongan = document.form1.querySelector('input[name="golongan"]:checked').value;
               if (bagian === "keuangan") {
                   if (golongan === "A") {
                       gaji = 5000000;
                   } else if (golongan === "B") {
                       gaji = 6000000;
                   } else if (golongan === "C") {
                       gaji = 7000000;
                   }
               }

               if (bagian === "produksi") {
                   if (golongan === "A") {
                       gaji = 4000000;
                   } else if (golongan === "B") {
                       gaji = 5000000;
                   } else if (golongan === "C") {
                       gaji = 6000000;
                   }
               }

               if (bagian === "pemasaran") {
                   if (golongan === "A") {
                       gaji = 3000000;
                   } else if (golongan === "B") {
                       gaji = 4000000;
                   } else if (golongan === "C") {
                       gaji = 5000000;
                   }
               }

            var tunjangan = document.form1.querySelectorAll('input[name="tunjangan[]"]:checked');
            var  total_tunjangan = 0;
            tunjangan.forEach(function(tunjanganItem) {
                if (tunjanganItem.value === "makan") {
                    total_tunjangan += gaji * 0.1
                } else if (tunjanganItem.value === "kesehatan") {
                    total_tunjangan += gaji * 0.2;
                } else if (tunjanganItem.value === "keluarga") {
                    total_tunjangan += gaji * 0.3;
                }
            });

            
            var tahun_masuk = document.form1.tahun_masuk.value;
            var lama_kerja = 2024-tahun_masuk
            var tunjangan_lama = 0;
            if (lama_kerja > 3) {
                 tunjangan_lama += (gaji * 0.1)*lama_kerja;
            }

            document.form1.gajipokok.value=gaji;
            document.form1.lama_kerja.value=lama_kerja+" Tahun"
            document.form1.tunjangan.value=total_tunjangan;
            document.form1.tunjangan_lama_kerja.value=tunjangan_lama;
            document.form1.total_gaji.value=gaji+total_tunjangan+tunjangan_lama;
           }
       </script>
   </head>
   <body>
       <center>
           <div class="w3-container">
               <div class="w3-panel w3-round-large w3-red">
                   <p><h3>Program Gaji Pegawai</h3></p>
               </div>
           </div>
       <div class="w3-container">
           <div class="w3-panel w3-card-4 w3-cyan">
               <table>
                    <tr>
                        <td>Nama Pegawai</td>
                        <td>:</td>
                        <td><input type="text" name="nama"></td>
                    </tr>
                   <tr>
                       <td>Bagian</td>
                       <td>:</td>
                       <td><select class="w3-select" name="bagian" id="">
                           <option value="keuangan">KEUANGAN</option>
                           <option value="produksi">PRODUKSI</option>
                           <option value="pemasaran">PEMASARAN</option>
                       </select></td>
                   </tr>
                   <tr>
                       <td>Golongan</td>
                       <td>:</td>
                       <td>
                           <input class="w3-radio" type="radio" name="golongan" value="A">A
                           <input class="w3-radio" type="radio" name="golongan" value="B">B
                           <input class="w3-radio" type="radio" name="golongan" value="C">C
                       </td>
                   </tr>
                   <tr>
                    <td>Tahun Masuk</td>
                    <td>:</td>
                    <td><input type="text" name="tahun_masuk"></td>
                </tr>
                   <tr>
                    <td>Tunjangan</td>
                    <td>:</td>
                    <td><input clss="w3-checkbox" type="checkbox" name="tunjangan[]" value="makan"> MAKAN
                        <br>
                        <input clss="w3-checkbox" type="checkbox" name="tunjangan[]" value="kesehatan"> KESEHATAN
                        <br>
                        <input clss="w3-checkbox" type="checkbox" name="tunjangan[]" value="keluarga"> KELUARGA
                    </td>
                    </tr>
                   <tr>
                       <td colspan="3"><hr></td>
                   </tr>
                   <tr>
                       <td>Gaji Pokok</td>
                       <td>:</td>
                       <td><input type="text" name="gajipokok"></td>
                   </tr>
                   <tr>
                    <td>Lama Kerja</td>
                    <td>:</td>
                    <td><input type="text" name="lama_kerja"></td>
                </tr>
                   <tr>
                       <td>Tunjangan</td>
                       <td>:</td>
                       <td><input type="text" name="tunjangan"></td>
                   </tr>
                   <tr>
                       <td>Tunjangan Lama Kerja</td>
                       <td>:</td>
                       <td><input type="text" name="tunjangan_lama_kerja"></td>
                   </tr>
                   <tr>
                       <td>Total Gaji</td>
                       <td>:</td>
                       <td><input type="text" name="total_gaji"></td>
                   </tr>
               </table>
           </div>
       </div>
       <div class="w3-container">
           <div class="w3-panel w3-round-large w3-yellow">
               <p></p>
               <input type="button" class="w3-btn w3-green" value=Proses onclick="proses()">
               <input type="button" class="w3-btn w3-red" value=Hapus onclick="reset()">
               <p></p>
           </div>
       </div>
       </center>
   </body>
    </form>
</html>